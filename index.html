<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <!-- 强制刷新，防止本地缓存 -->
    <script>
        if(!window.name){
            window.name = 'freshed';
            window.location.reload(true);
        }
    </script>

    
    <title>乐园系统 - UTXeolb</title>

    <style type="text/css">
        
        /* tab标题的样式 */
        ul {
            margin: 0;
            padding: 0;
            list-style: none;
            font-size: 14px
        }
        .nTab {
            background: #fff;
            border: 1px solid #e0e0e0;
            overflow: hidden
        }

        /* 非激活页面会被隐藏 */
        .none {
            display: none;
        }

        /* tab标题的样式 */
        .nTab .TabTitle li {
            float: left;
            cursor: pointer;
            height: 30px;
            line-height: 30px;
            font-weight: bold;
            text-align: center;
        }

        /* 激活状态的颜色 */
        .nTab .TabTitle .active {
            background: #fff;
            color: #14c573
        }

        /* 非激活状态的颜色 */
        .nTab .TabTitle .normal {
            background: #f7f7f7;
            color: #a7a7a7
        }

        /* tab内容样式 */
        .nTab .TabContent {
            clear: both;
            overflow: hidden;
            background: #fff;
            padding: 5px;
            display: block
        }

        /* 普通计点页面的那几个文本框的宽度 */
        .text_area{
            width: 95%;
        }

    </style>
</head>

<body>
    <div style="display:inline; text-align:left; margin: 2px 0px; font-family: Helvetica,Microsoft YaHei;">
        欢迎使用乐园系统!
    </div> 
    <div style="display:inline; text-align:right; margin: 0 0 0 90px; font-weight: normal;">
        <img src="user.png" alt="user: " width="20" height="20" style="margin: 0 auto -4px;">UTXeolb 已登录
    </div>

    <div class="nTab">
        <div class="TabTitle">
            <ul id="Tab0">
                <li id="Tab0_Title0" class="active" style="width: 20.8%;" onclick="nTabs(this,0);nTabs_load(this,0);">基本计点</li>
                <li id="Tab0_Title1" class="normal" style="width: 20.8%;" onclick="nTabs(this,1);nTabs_load(this,1);">编年史</li>
                <li id="Tab0_Title2" class="normal" style="width: 20.8%;" onclick="nTabs(this,2);nTabs_load(this,2);">地图</li>
                <li id="Tab0_Title3" class="normal" style="width: 20.8%;" onclick="nTabs(this,3);nTabs_load(this,3);">人物</li>
                <li id="Tab0_Title4" class="normal" style="width: 16.8%;" onclick="nTabs(this,4);nTabs_load(this,4);">关于</li>
            </ul>
        </div>
        <div class="TabContent">
            <!-- 第一个tab -->
            <div id="Tab0_Content0">
                <p style="font-size: x-small;">使用指引：
                    从芦苇岛导出待计点楼层文本或网页端复制待计点楼层文本，粘贴到第一个文本框，点击计点按钮，即可得到计点报告。<br>
                </p>

                <!-- 输入框 -->
                <textarea
                    class="text_area" id="in" rows="10" style="color: #9e9e9e;" onclick="if(this.value =='在此处粘贴'){this.value ='';this.style.color='#000'}" onblur="if(this.value == ''){this.value = '在此处粘贴';this.style.color='#9e9e9e'}"
                    >在此处粘贴</textarea>
                <button id="cb" type="button" onclick="count_button()" style="width:100px;height:30px">计点</button>
                <button id="rb" type="button" onclick="reset_button()" style="width:100px;height:30px">重置</button>

                <!-- 输出框 -->
                <p>摘要：</p>
                <textarea class="text_area" id="abstract" readonly=true rows="5"></textarea>
                <button id="copy_ab" type="button" onclick="copy_ab('abstract')" style="width:100px;height: 30px">复制摘要</button>

                <p>报告：</p>
                <textarea class="text_area" id="report" readonly=true rows="10"></textarea>
                <button id="copy_rp" type="button" onclick="copy_rp('report')" style="width:100px;height: 30px">复制报告</button>

                <!-- 控制面板 -->
                <br><br>
                <fieldset class="count_panel" style="width:95%;">
                    <legend>
                        控制面板
                    </legend>
                    <ul>
                        <!-- lastn -->
                        <li>
                            <table>
                                <tr>
                                    <td>>>  取倒数第</td>
                                    <td>
                                        <form action="">
                                            <select id="lastn" style="width:30px;height: 20px">
                                                <option value="1" selected>1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                            </select>
                                        </form>
                                    </td>
                                    <td>位</td>
                                </tr>
                            </table>
                        </li>
                        <!-- blockpo -->
                        <li>
                            <table>
                                <tr>
                                    <td>>>  屏蔽po主的roll点吗</td>
                                    <td>
                                        <form action="">
                                            <input id='block_po' type="checkbox" checked="checked">
                                        </form>
                                    </td>
                                </tr>
                            </table>
                        </li>
                        <!-- poid -->
                        <li>
                            <table>
                                <tr>
                                    <td>>>  po的饼干：</td>
                                    <td>
                                        <form action="">
                                            <input id="poid" type="text" style="width: 5rem;" value="1pGvS00" onclick="if(this.value =='1pGvS00'){this.value ='';}" onblur="if(this.value == ''){this.value = '1pGvS00';}" /> 
                                        </form>
                                    </td>
                                </tr>
                            </table>
                        </li>
                        <!-- visited -->
                        <li>
                            <table>
                                <tr>
                                    <td>>> 屏蔽重复饼干roll点吗</td>
                                    <td>
                                        <form action="">
                                            <input id='block_visited' type="checkbox" checked="checked">
                                        </form>
                                    </td>
                                </tr>
                            </table>
                        </li>
                    </ul>
                </fieldset>
            </div>
            <!-- 第二个tab：编年史 -->
            <div id="Tab0_Content1" class="none" >
                <p id="test_h"></p>
                <iframe  id="Tab0_Content1_iframe"
                    name="history" width=100% frameborder="no"
                ></iframe> 
                <script>
                    document.getElementById("Tab0_Content1_iframe").style.height = (screen.availHeight - 250) + "px";
                </script>
            </div>
            <!-- 第三个tab：地图 -->
            <div id="Tab0_Content2" class="none">
                <iframe id="Tab0_Content2_iframe"
                    name="maps" width=100% frameborder="no"
                ></iframe> 
                <script>
                    document.getElementById("Tab0_Content2_iframe").style.height = (screen.availHeight - 250) + "px";
                </script>
            </div>
            <!-- 第四个tab：人物 -->
            <div id="Tab0_Content3" class="none">
                <p>人物立绘还在收集中，欢迎到项目主页提交你心中的人物立绘</p>
                <iframe  id="Tab0_Content3_iframe"
                    name="characters" width=100% frameborder="no"
                ></iframe> 
                <script>
                    document.getElementById("Tab0_Content3_iframe").style.height = (screen.availHeight - 250) + "px";
                </script>
            </div>
            <!-- 第五个tab：关于 -->
            <div id="Tab0_Content4" class="none">
                <p>Waiting:</p>
                <ul id="TODO">
                    <li>&nbsp;&nbsp;更新的编年史</li>
                    <li>&nbsp;&nbsp;更多的人物立绘</li>
                    <li>&nbsp;&nbsp;更完善的地图</li>
                    <li>&nbsp;&nbsp;更好的页面设计</li>
                </ul>
                <p><a href="https://gitee.com/srs2020/utxeolb">项目主页</a></p>
            </div>
        </div>
    </div>
    
    <!-- 结尾页脚 -->
    <p style="font-size: xx-small;text-align:left; margin: 10px 0 0 10px">这里是「乐园」，一个拉吉箱一样的世界 :)</p>
    <p style="font-size: xx-small;text-align:left; margin: 10px 0 0 10px">UTXeolb  <a style="font-size: xx-small;" href="https://adnmb.com/t/15080844">>>No.15080844</a></p>

</body>

<!-- 功能脚本 -->
<script src="index.js"></script>

<!-- 懒加载 -->
<script>
    function nTabs_load(thisObj, Num){
        let tmp = [1,2,3];
        if(tmp.includes(Num)){
            x = document.getElementById("Tab0_Content"+Num+"_iframe")
            if(!x.src){
                switch(Num){
                    case 1:
                        x.src="history.html" 
                        break;
                    case 2:
                        x.src="./maps/maps.html" 
                        break;
                    case 3:
                        x.src="./characters/characters.html" 
                        break;
                }
            }
        }
        

    }
</script>

<script type="text/javascript">
    // 控制tab活动的函数
    function nTabs(thisObj, Num) {
        if (thisObj.className == "active") return;
        let tabObj = thisObj.parentNode.id;
        let tabList = document.getElementById(tabObj).getElementsByTagName("li");
        for (let i = 0; i < tabList.length; i++) {
            // 重置各个tab的状态：激活该激活的，复位未激活的
            if (i == Num) {
                thisObj.className = "active";
                document.getElementById(tabObj + "_Content" + i).style.display = "block";
            } else {
                tabList[i].className = "normal";
                document.getElementById(tabObj + "_Content" + i).style.display = "none";
            }
        }
    }
</script>

<!-- 文本框发光样式 -->
<style>
    input[type=text], textarea {
        transition: all 0.30s ease-in-out;
        outline: none;
        padding: 3px 0px 3px 3px;
        margin: 5px 1px 3px 0px;
        border: 1px solid #ddd;
    }
    
    input[type=text]:focus, textarea:focus {
        box-shadow: 0 0 5px rgba(81, 203, 238, 1);
        padding: 3px 0px 3px 3px;
        margin: 5px 1px 3px 0px;
        border: 1px solid rgba(81, 203, 238, 1);
    }
</style>

</html>